# 杂七杂八灵光

使用 goflags 包处理命令行参数
github.com/projectdiscovery/goflags
最终对比选型，决定使用 Cobra 框架来处理命令行参数。

agent 端本身也需要队列或者并发控制，根据参考再决定使用哪种


agent 有两个模式
- Cluster Mode：注册到Master，接受任务并执行
- CLI Mode：本身可作为扫描工具，直接在命令行执行扫描任务

端口扫描 功能有参数（例如：--services，可以指定对识别的端口进行详细服务识别），不指定默认只进行端口探测和基础的服务识别

端口扫描 + 服务扫描 = 端口服务扫描 PortServiceScanner ，放在同一个流水线内解决，不再割裂，这个PortServiceScanner是智能的，只要端口状态，他就只做 portScan，需要服务识别，那就紧接着做服务识别 serverScan 